# iCloud3 Components <!-- {docsify-ignore} -->

There are 3 major parts to the iCloud3 custom component that are used to configure, track and report device location information. They are:

- iCloud3 Custom Component 
- Event Log
- Configure Settings

This section describes each of the items.



------

### 1.1 iCloud3 Custom Component

The iCloud3 Custom Component provides the core device tracking service. It does the following:
  - Initializes and sets up all tracking activities for the Devices using location data from iCloud Location Services or the Mobile App device_tracker entity (or both).
  - Monitors the Mobile App device_tracker entity for location changes, zone enter/exit triggers and battery information.
  - Requests and processes location data from iCloud Location Services and the Mobile App.
  - Analyzes the location data and tracks the devices.
  - Updates the sensors associated with each device.

> The iCloud3 program files are installed in the *config/custom_components/icloud3* directory on your HA server.


The screens below show examples of a tracked device's current status. The following is displayed:

- Gary, on the left, is at Home. Lillian, on the Right is Away.
  - Arrive item - The icons and text show Gary is at Home (Home icon in a circle and he arrived home at @3:22p. Lillian is traveling towards home. Notice the distance, travel time and travel direction from the Home Zone. 
- Notice when the device was last located by iCloud or the Mobile App, when it was last updated by iCloud3 and the time of the next update. 
- Gary is tracking from Home and the Quail Zone, Lillian just from Home.
- The *Info* field shows tracking results from nearby devices is being used.


![](../images/track-gary-home-lillian-away-captions.png)



Note: The Lovelace code for these screens is in [Step #5 - Set up a Lovelace card tracking card](.../2.0-installing-and-configuring?id=step-6-set-up-a-lovelace-card-tracking-card) 

------

### 1.2 Event Log

The Event Log is a Lovelace custom card that shows past and current activity related to tracking a device. This includes:

- Startup configuration.
- Device information for Apple account and Mobile App devices and entities
- Tracking results including zone, travel time and distance data
- Error messages, problems and location data issues.
- Detail tracking monitors that show what is going on under the covers, how location data from the iCloud Location Services and the Mobile App is analyzed and processed

The *Actions* command on the Event Log is used to control iCloud3 operations. This includes:
- Restart iCloud3 without restarting Home Assistant
- Pause and resume tracking
- Relocate all devices or a specific device
- Issue a *Find My Device* alert
- Export the Event Log to a text file
- Show/hide tracking monitors
- Set the Log Level (info, debug, rawdata) indicating the type of data to write to the *icloud3.log* file
- Run Waze History Database maintenance functions

Note: The Event Log is installed into the *config/www/icloud3* directory. This directory can be changed on the *Configure > Parameters Menu > Field Formats and Event Log Overrides* screen but there is really no need to do that.


![](../images/track-evlog-gary-tfz-away-lillian-home.png)



#### 1.2.1 Quick Link Icons

The icons above the *Actions* command menu list in the top-right are used for various iCloud3 activities.

| Icon                                                      | Description                                                  |
| --------------------------------------------------------- | ------------------------------------------------------------ |
| ![evlog-icons-refresh](../images/evlog-icons-refresh.png) | **Refresh** - This updates the Event Log screen with new activity for the selected device. |
| ![](../images/evlog-icons-coffee.png)                     | **Buy Me a Coffee** - You find iCloud3 useful, appreciate the work I have done and want to send me a few dollars, euros, pesos, pounds, etc. Thanks. I appreciate it. |
| ![](../images/evlog-icons-issues.png)                     | **GitHub Issue** - You are having a problem and think you may have found a bug or other problem. This takes you to the iCloud3 GitHub Issues page to create a new issue or to review existing issues. |
| ![](../images/evlog-icons-config.png)                     | **Configure** - This is a shortcut to the *HA Settings > Integrations > iCloud3* screen. Select *Configure* to display the various configuration screens. |
| ![](../images/evlog-icons-help.png)                       | **User Manual** - This opens the iCloud3 User Manual.        |




------

### 1.3  iCloud3 Configuration

The iCloud3 configuration screens are used to:
- Add and update Apple accounts
- Add and update tracked and monitored devices. You can assign the Apple account device and Mobile App device that provides location and other data, zone and tracking parameters, a picture or icon, etc
- Select the sensors to be updated during tracking operations
- Run special Tools to fix configuration problems
- Configure other tracking and formatting parameters
- Set up Special Zones and specify how Waze Route Tracking should be configured


#### Open the Configuration screens
Select one of the following:
- **Configure Icon** shortcut on the *Event Log screen* or
- **â˜° > HA Settings > Devices & Services > Integrations > iCloud3** screen

Then select *Configure*

![](../images/cf-configure.png)

#### Using the Configuration screens
The *Configure* screens consists of 2 menus and 10 parameter entry screens. Each screen has two parts:

- **Selection or parameter entry (top part)** - This is used to select a task to be done, an item to be selected or an option list/text field for the parameter being configured.
- **Command or Action to be done (bottom part)** - First select the desired option (Select/Next/Add/Update/Delete/etc.), then select the command in the bottom right-hand corner of the screen (Next/Submit/Finish/etc.).

The example screens below show these 2-sections. These and the other screens are described in detail in the *Configuring iCloud3 Parameters* chapter.



##### Main Menu screens

The menus are used to select the specific update screen.

![](../images/cf-menu-1-2-sbs.png)



##### iCloud3 Device screen

Adding a new devices and updating an existing device is done on this screen.
![](../images/cf-device-update.png)



##### Field Formats screen

Configuring how information should be displayed in the device_tracker and sensor entities and on the Event Log screen. 
![](../images/cf-format-settings.png)

